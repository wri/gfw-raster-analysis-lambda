[pytest]
# Show all output immediately, with full tracebacks
# -ra: show summary of all test outcomes (passed, failed, skipped, etc.)
# -vv: very verbose output showing test names and progress
# --tb=long: show full tracebacks for failures
# --capture=no: don't capture stdout/stderr, show output immediately
# -p no:warnings: suppress warnings (optional, remove if you want to see warnings)
addopts = -ra -vv --tb=long --capture=no

# Enable live logging - this shows log output in real-time during test execution
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s - %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Environment variables for tests
env =
    AWS_XRAY_SDK_ENABLED=false
    AWS_REQUEST_PAYER=requester
    BENCH_MODE=false
    DISABLE_CODEGURU=true
    DYNAMODB_ENDPOINT_URL=http://127.0.0.1:3000
    FANOUT_LAMBDA_NAME=fanout
    RASTER_ANALYSIS_LAMBDA_NAME=raster-analysis

# Test markers for better organization
markers =
    integration: Integration tests that require external services
    slow: Tests that take a long time to runDA_NAME=raster-analysis
